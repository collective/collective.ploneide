<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Buildout troubleshooting &mdash; Plone Community Managed Developer Manual v1.0 documentation</title>
    <link rel="stylesheet" href="../_static/plone.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Plone Community Managed Developer Manual v1.0 documentation" href="../index.html" />
    <link rel="up" title="Troubleshooting" href="index.html" />
    <link rel="next" title="Recovering old data" href="recovery.html" />
    <link rel="prev" title="Image troubleshooting" href="images.html" />
<script language="javascript">
//<![CDATA[

Documentation.addTranslations({"locale": "fr", "plural_expr": "(n > 1)", "messages": {"See the definition": "Voir la d\u00e9finition"}});

// See http://disqus.disqus.com/general_integration_help/
var disqus_developer = 1;
if (document.location.protocol == 'http:') {
    disqus_developer = 0;
}

// Some HTML/CSS transforms we can't do in pure CSS (waiting for CSS3 support)
$(document).ready(function () {

    // Style of .. verisonmodified:: , .. versionadded:: ...
    $('p:has(span.versionmodified)').addClass('p-versionmodified');

    // Style of the TOC tree
    $('ul:has(li.toctree-l1)').addClass('toctree');

    // Decorate links to other sites
    $('a[class~=external]').attr('target', '_blank');

    // Glossary terms
    $('em.xref').attr('title', _('See the definition'));

    // We need to have all <pre> in a <div class="highlight"> to mimic pygments
    // to work around a pygments (?) bug
    var suffixes = {cfg: null, python:null};
    for (var suffix in suffixes) {
        var pattern = 'div.highlight-' + suffix + ' > pre';
        $(pattern).wrap('<div class="highlight" />');
    }
    return true;
});
//]]>
</script>

  </head>
  <body>
<!--[if lte IE 6]>
<style type="text/css">
#ie6msg{border:3px solid #090; margin:8px 0; background:#cfc; color:#000;}
#ie6msg h4{margin:8px; padding:0;}
#ie6msg p{margin:8px; padding:0;}
#ie6msg p a.getie8{font-weight:bold; color:#006;}
#ie6msg p a.ie6expl{font-weight:normal; color:#006;}
</style>
<div id="ie6msg">
<h4>Did you know that your browser is out of date?</h4>
<p>If the layout of this site seems ugly, that's because you're actually using
an outdated browser. And we wont put any effort to provide a nice layout to IE6
users.</p>
<p>To get the best possible experience using our website we recommend that you
upgrade your browser to a newer version. The current version
is <a class="getie8"
href="http://upgradeie.s3.amazonaws.com/eng/index.html">Internet Explorer
8</a>. The upgrade is free. If you're using a PC at work you should contact your
IT administrator.</p>
<p>If you want to you may also try some other popular Internet browsers
like <a class="ie6expl"
href="http://getfirefox.com">Firefox</a>, <a class="ie6expl"
href="http://www.google.com/chrome">Chrome</a>, <a class="ie6expl"
href="http://www.opera.com">Opera</a>, or <a class="ie6expl"
href="http://www.apple.com/safari/download/">Safari</a></p>
</div>
<![endif]-->

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="recovery.html" title="Recovering old data"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="images.html" title="Image troubleshooting"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Plone Community Managed Developer Manual v1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Troubleshooting</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="sphinx-content">
    <div class="section" id="buildout-troubleshooting">
<h1>Buildout troubleshooting<a class="headerlink" href="#buildout-troubleshooting" title="Permalink to this headline">¶</a></h1>
<div class="admonition-description admonition ">
<p class="first admonition-title">Description</p>
<p class="last">How to solve problems related to running buildout and some common
exceptions you might encounter when running buildout for Plone.</p>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#network-errors-and-timeouts" id="id2">Network errors and timeouts</a><ul>
<li><a class="reference internal" href="#individual-package-failing-outside-pypi" id="id3">Individual package failing outside PyPi</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-conflicts" id="id4">Version conflicts</a><ul>
<li><a class="reference internal" href="#dump-picked-versions" id="id5">Dump picked versions</a><ul>
<li><a class="reference internal" href="#more-information" id="id6">More information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#good-py-service" id="id7">Good-py service</a></li>
</ul>
</li>
<li><a class="reference internal" href="#plone-3-1" id="id8">Plone 3.1</a></li>
<li><a class="reference internal" href="#common-pindowns" id="id9">Common pindowns</a></li>
<li><a class="reference internal" href="#getting-distribution-for-distribute" id="id10">Getting distribution for 'distribute'.</a></li>
<li><a class="reference internal" href="#unknownextra-zope-i18n-0-0-has-no-such-extra-feature-zcml" id="id11">UnknownExtra: zope.i18n 0.0 has no such extra feature 'zcml'</a></li>
<li><a class="reference internal" href="#we-already-have-zope-location-3-4-0" id="id12">We already have: zope.location 3.4.0</a></li>
<li><a class="reference internal" href="#importerror-no-module-named-lxml" id="id13">ImportError: No module named lxml</a></li>
<li><a class="reference internal" href="#unknownextra-zope-i18n-3-4-0-has-no-such-extra-feature-zcml" id="id14">UnknownExtra: zope.i18n 3.4.0 has no such extra feature 'zcml'</a></li>
<li><a class="reference internal" href="#can-t-run-bootstrap-py-versionconflict-for-zc-buildout" id="id15">Can't run bootstrap.py - VersionConflict for zc.buildout</a></li>
<li><a class="reference internal" href="#an-error-occured-when-trying-to-install-lxml-error-setup-script-exited-with-error-command-gcc-failed-with-exit-status-1" id="id16">An error occured when trying to install lxml - error: Setup script exited with error: command 'gcc' failed with exit status 1</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This document tells how to resolve buildout problems.</p>
</div>
<div class="section" id="network-errors-and-timeouts">
<h2><a class="toc-backref" href="#id2">Network errors and timeouts</a><a class="headerlink" href="#network-errors-and-timeouts" title="Permalink to this headline">¶</a></h2>
<p>The usual reason for download error or timeout is that either</p>
<ul class="simple">
<li>pypi.python.org server is down</li>
<li>one of plone.org servers is down</li>
<li>other Python package source server is down</li>
</ul>
<p>Here are instructions how to deal with community servers down situations</p>
<ul class="simple">
<li><a class="reference external" href="http://jacobian.org/writing/when-pypi-goes-down/">http://jacobian.org/writing/when-pypi-goes-down/</a></li>
</ul>
<p>Mirrors</p>
<ul class="simple">
<li><a class="reference external" href="http://pypi.appspot.com/">http://pypi.appspot.com/</a></li>
</ul>
<div class="section" id="individual-package-failing-outside-pypi">
<h3><a class="toc-backref" href="#id3">Individual package failing outside PyPi</a><a class="headerlink" href="#individual-package-failing-outside-pypi" title="Permalink to this headline">¶</a></h3>
<p>To figure out which file buildout tries to download, usually the only way
is to use <tt class="docutils literal"><span class="pre">buildout</span> <span class="pre">-D</span></tt> pdb debug mode and step up in stack frames to see
what is going on.</p>
</div>
</div>
<div class="section" id="version-conflicts">
<h2><a class="toc-backref" href="#id4">Version conflicts</a><a class="headerlink" href="#version-conflicts" title="Permalink to this headline">¶</a></h2>
<p>Buildout gives you an error if there is a dependency shared by two components, and
one of the components wants to have a different version of this dependency.</p>
<p>Example:</p>
<div class="highlight-python"><pre>  Installing.
  Getting section zeoserver.
  Initializing part zeoserver.
Error: There is a version conflict.
We already have: zope.component 3.8.0
but five.localsitemanager 1.1 requires 'zope.component&lt;3.6dev'.</pre>
</div>
<ul>
<li><p class="first">If your buildout is fetching out strange versions</p>
<blockquote>
<ul class="simple">
<li>try running buildout in verbose mode  bin/buildout vvv</li>
<li>Use dumppickedversions (below)</li>
</ul>
</blockquote>
</li>
<li><p class="first">Manually pindown version in [versions]</p>
</li>
</ul>
<p>Further reading</p>
<ul class="simple">
<li><a class="reference external" href="http://maurits.vanrees.org/weblog/archive/2010/08/fake-version-pinning">http://maurits.vanrees.org/weblog/archive/2010/08/fake-version-pinning</a></li>
<li><a class="reference external" href="http://www.uwosh.edu/ploneprojects/documentation/how-tos/how-to-use-buildout-to-pin-product-versions">http://www.uwosh.edu/ploneprojects/documentation/how-tos/how-to-use-buildout-to-pin-product-versions</a></li>
</ul>
<div class="section" id="dump-picked-versions">
<h3><a class="toc-backref" href="#id5">Dump picked versions</a><a class="headerlink" href="#dump-picked-versions" title="Permalink to this headline">¶</a></h3>
<p>This buildout extension will dump automatically picked Python egg
versions to a file.</p>
<p>Add to your buildout.cfg:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">extensions</span> <span class="o">=</span> <span class="n">buildout</span><span class="o">.</span><span class="n">dumppickedversions</span>
<span class="n">dump</span><span class="o">-</span><span class="n">picked</span><span class="o">-</span><span class="n">versions</span><span class="o">-</span><span class="nb">file</span> <span class="o">=</span> <span class="n">versions</span><span class="o">.</span><span class="n">cfg</span>
</pre></div>
</div>
<div class="section" id="more-information">
<h4><a class="toc-backref" href="#id6">More information</a><a class="headerlink" href="#more-information" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="http://pypi.python.org/pypi/buildout.dumppickedversions">dumppickedversions</a></li>
</ul>
</div>
</div>
<div class="section" id="good-py-service">
<h3><a class="toc-backref" href="#id7">Good-py service</a><a class="headerlink" href="#good-py-service" title="Permalink to this headline">¶</a></h3>
<p>Good-py contains some good known versions sets. These are most convenient to use if you are
using complex configuration of add-ons and you don't know what you are doing.</p>
<p>Some good-py configurations take Plone version as a paremeter.</p>
<p>Example:</p>
<div class="highlight-python"><pre>[buildout]
extends =
    base.cfg
    http://dist.plone.org/release/3.3.5/versions.cfg
    http://good-py.appspot.com/release/dexterity/1.0-next?plone=3.3.5</pre>
</div>
<p>Or:</p>
<div class="highlight-python"><pre>extends =
    http://dist.plone.org/release/4.0/versions.cfg
    http://good-py.appspot.com/release/dexterity/1.0b2?plone=4.0</pre>
</div>
<p>For more information, see</p>
<ul class="simple">
<li><a class="reference external" href="http://plone.org/products/dexterity/documentation/manual/developer-manual/pre-requisites/buildout-configuration">http://plone.org/products/dexterity/documentation/manual/developer-manual/pre-requisites/buildout-configuration</a></li>
</ul>
</div>
</div>
<div class="section" id="plone-3-1">
<h2><a class="toc-backref" href="#id8">Plone 3.1</a><a class="headerlink" href="#plone-3-1" title="Permalink to this headline">¶</a></h2>
<p>Plone 3.1 and earlier are not eggified.
Below are links how to keep Plone 3.1 and earlier buildouts running .</p>
<p>See</p>
<ul class="simple">
<li><a class="reference external" href="http://maurits.vanrees.org/weblog/archive/2010/04/nonewplone">http://maurits.vanrees.org/weblog/archive/2010/04/nonewplone</a></li>
<li><a class="reference external" href="http://plone.org/documentation/kb/repair-a-plone-3.1-buildout">http://plone.org/documentation/kb/repair-a-plone-3.1-buildout</a></li>
</ul>
</div>
<div class="section" id="common-pindowns">
<h2><a class="toc-backref" href="#id9">Common pindowns</a><a class="headerlink" href="#common-pindowns" title="Permalink to this headline">¶</a></h2>
<p>Here is the latest pindown example (02/2010):</p>
<div class="highlight-python"><pre>[versions]
# zope.app.catalog 3.6.0 requires zope.index 3.5.0
# zope.index 3.5.0 requires 'ZODB3&gt;=3.8.0b1'
# This will conflict with the fake ZODB egg.
zope.app.catalog = 3.5.2
zope.component = 3.5.1
plone.app.z3cform=0.4.2
plone.recipe.zope2instance = 3.6
zope.sendmail = 3.6.0
Products.PluggableAuthService = 1.6.2
plone.z3cform = 0.5.8
five.intid=0.4.2
plone.reload = 0.11
Products.GenericSetup = 1.5.0</pre>
</div>
</div>
<div class="section" id="getting-distribution-for-distribute">
<h2><a class="toc-backref" href="#id10">Getting distribution for 'distribute'.</a><a class="headerlink" href="#getting-distribution-for-distribute" title="Permalink to this headline">¶</a></h2>
<p>You try to run buildout, but it is stuck in a loop:</p>
<div class="highlight-python"><pre>Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.
Getting distribution for 'distribute'.</pre>
</div>
<p>Your system-wide Distribute version is older than the latest release. Buildout tries to update it, but
since system wide site-packages version overrides anything buildout can do, it is stuck in a loop.</p>
<p>Fix: update Distribute in system-wide Python:</p>
<div class="highlight-python"><pre>easy_install -U Distribute
Searching for Distribute
Reading http://pypi.python.org/simple/Distribute/
Reading http://packages.python.org/distribute
Best match: distribute 0.6.12
Downloading http://pypi.python.org/packages/source/d/distribute/distribute-0.6.12.tar.gz#md5=5a52e961f8d8799d243fe8220f9d760e
Processing distribute-0.6.12.tar.gz
Running distribute-0.6.12/setup.py -q bdist_egg --dist-dir /tmp/easy_install-jlL3e7/distribute-0.6.12/egg-dist-tmp-IV9SiQ
Before install bootstrap.
Scanning installed packages
Setuptools installation detected at /home/moo/py24/lib/python2.4/site-packages
Non-egg installation
Removing elements out of the way...
Already patched.
/home/moo/py24/lib/python2.4/site-packages/setuptools-0.6c11-py2.4.egg-info already patched.
After install bootstrap.
/home/moo/py24/lib/python2.4/site-packages/setuptools-0.6c11-py2.4.egg-info already exists
Removing distribute 0.6.10 from easy-install.pth file
Adding distribute 0.6.12 to easy-install.pth file
Installing easy_install script to /home/moo/py24/bin
Installing easy_install-2.4 script to /home/moo/py24/bin</pre>
</div>
</div>
<div class="section" id="unknownextra-zope-i18n-0-0-has-no-such-extra-feature-zcml">
<h2><a class="toc-backref" href="#id11">UnknownExtra: zope.i18n 0.0 has no such extra feature 'zcml'</a><a class="headerlink" href="#unknownextra-zope-i18n-0-0-has-no-such-extra-feature-zcml" title="Permalink to this headline">¶</a></h2>
<p>You get the following traceback when running buildout:</p>
<div class="highlight-python"><pre>  File "/home/moo/rtv/eggs/plone.recipe.zope2instance-2.7-py2.4.egg/plone/recipe/zope2instance/__init__.py", line 93, in update
    requirements, ws = self.egg.working_set()
  File "/home/moo/rtv/eggs/zc.recipe.egg-1.1.0-py2.4.egg/zc/recipe/egg/egg.py", line 93, in working_set
    allow_hosts=self.allow_hosts,
  File "/tmp/tmpGFbvPP/zc.buildout-1.5.0b2-py2.4.egg/zc/buildout/easy_install.py", line 800, in install
  File "/tmp/tmpGFbvPP/zc.buildout-1.5.0b2-py2.4.egg/zc/buildout/easy_install.py", line 660, in install
  File "/home/moo/py24/lib/python2.4/site-packages/distribute-0.6.10-py2.4.egg/pkg_resources.py", line 551, in resolve
    requirements.extend(dist.requires(req.extras)[::-1])
  File "/home/moo/py24/lib/python2.4/site-packages/distribute-0.6.10-py2.4.egg/pkg_resources.py", line 2164, in requires
    raise UnknownExtra(
UnknownExtra: zope.i18n 0.0 has no such extra feature 'zcml'</pre>
</div>
<p>You might be using Plone 4 add-on for Plone 3. Check if setup.py contains
<em>Zope2</em> as a dependency. If it does then it is the end of the story
and you need to use earlier add-on version for your Plone 3 site.</p>
<p>More info</p>
<ul class="simple">
<li><a class="reference external" href="http://groups.google.com/group/singing-dancing/browse_thread/thread/331cdfe78cf371ed">http://groups.google.com/group/singing-dancing/browse_thread/thread/331cdfe78cf371ed</a></li>
</ul>
</div>
<div class="section" id="we-already-have-zope-location-3-4-0">
<h2><a class="toc-backref" href="#id12">We already have: zope.location 3.4.0</a><a class="headerlink" href="#we-already-have-zope-location-3-4-0" title="Permalink to this headline">¶</a></h2>
<p>When running buildout, Plone 3.3.5:</p>
<div class="highlight-python"><pre>While:
  Installing.
  Getting section zopepy.
  Initializing section zopepy.
  Getting option zopepy:eggs.
  Getting section client1.
  Initializing section client1.
  Getting option client1:zeo-address.
  Getting section zeo.
  Initializing part zeo.
Error: There is a version conflict.
We already have: zope.location 3.4.0
but zope.traversing 3.13 requires 'zope.location&gt;=3.7.0'.</pre>
</div>
<p>Solution:</p>
<div class="highlight-python"><pre>rm -rf fake-eggs/*
bin/buildout install zope2
bin/buildout</pre>
</div>
</div>
<div class="section" id="importerror-no-module-named-lxml">
<h2><a class="toc-backref" href="#id13">ImportError: No module named lxml</a><a class="headerlink" href="#importerror-no-module-named-lxml" title="Permalink to this headline">¶</a></h2>
<p>lxml as a PyPi package dependency fails even though it is clearly installed.</p>
<p>Example traceback when running buildout:</p>
<div class="highlight-python"><pre>...
Processing openxmllib-1.0.6.tar.gz
&lt;snip Unpacking... &gt;
Running openxmllib-1.0.6/setup.py bdist_egg --dist-dir /tmp/easy_install-Urh6x4/openxmllib-1.0.6/egg-dist-tmp-ju0TuT
Traceback (most recent call last):
&lt;snip Traceback... &gt;
  File "setup.py", line 5, in &lt;module&gt;
  File "/tmp/easy_install-Urh6x4/openxmllib-1.0.6/openxmllib/__init__.py", line 17, in &lt;module&gt;
  File "/tmp/easy_install-Urh6x4/openxmllib-1.0.6/openxmllib/wordprocessing.py", line 5, in &lt;module&gt;
  File "/tmp/easy_install-Urh6x4/openxmllib-1.0.6/openxmllib/document.py", line 14, in &lt;module&gt;
ImportError: No module named lxml
An error occured when trying to install openxmllib 1.0.6. Look above this message for any errors that were output by easy_install.
While:
  Installing plone-core-addons.
  Getting distribution for 'openxmllib&gt;=1.0.6'.
Error: Couldn't install: openxmllib 1.0.6</pre>
</div>
<p>Solution: not known currently</p>
<p>More information</p>
<ul class="simple">
<li><a class="reference external" href="http://www.niteoweb.com/blog/order-of-parts-when-compiling-lxml">http://www.niteoweb.com/blog/order-of-parts-when-compiling-lxml</a></li>
<li><a class="reference external" href="http://plone.293351.n2.nabble.com/lxml-installs-but-Products-OpenXml-openxmllib-can-t-see-it-tp5565184p5565184.html">http://plone.293351.n2.nabble.com/lxml-installs-but-Products-OpenXml-openxmllib-can-t-see-it-tp5565184p5565184.html</a></li>
</ul>
</div>
<div class="section" id="unknownextra-zope-i18n-3-4-0-has-no-such-extra-feature-zcml">
<h2><a class="toc-backref" href="#id14">UnknownExtra: zope.i18n 3.4.0 has no such extra feature 'zcml'</a><a class="headerlink" href="#unknownextra-zope-i18n-3-4-0-has-no-such-extra-feature-zcml" title="Permalink to this headline">¶</a></h2>
<p>Traceback:</p>
<div class="highlight-python"><pre>An internal error occured due to a bug in either zc.buildout or in a
recipe being used:
Traceback (most recent call last):
  File "/Users/moo/code/gomobile/eggs/zc.buildout-1.4.3-py2.6.egg/zc/buildout/buildout.py", line 1660, in main
    getattr(buildout, command)(args)
  File "/Users/moo/code/gomobile/eggs/zc.buildout-1.4.3-py2.6.egg/zc/buildout/buildout.py", line 416, in install
    [self[part]['recipe'] for part in install_parts]
  File "/Users/moo/code/gomobile/eggs/zc.buildout-1.4.3-py2.6.egg/zc/buildout/buildout.py", line 964, in __getitem__
    options._initialize()
  File "/Users/moo/code/gomobile/eggs/zc.buildout-1.4.3-py2.6.egg/zc/buildout/buildout.py", line 1048, in _initialize
    recipe_class = _install_and_load(reqs, 'zc.buildout', entry, buildout)
  File "/Users/moo/code/gomobile/eggs/zc.buildout-1.4.3-py2.6.egg/zc/buildout/buildout.py", line 1004, in _install_and_load
    allow_hosts=buildout._allow_hosts
  File "/Users/moo/code/gomobile/eggs/zc.buildout-1.4.3-py2.6.egg/zc/buildout/easy_install.py", line 800, in install
    return installer.install(specs, working_set)
  File "/Users/moo/code/gomobile/eggs/zc.buildout-1.4.3-py2.6.egg/zc/buildout/easy_install.py", line 660, in install
    ws.resolve(requirements)
  File "/Users/moo/code/gomobile/eggs/distribute-0.6.14-py2.6.egg/pkg_resources.py", line 557, in resolve
    requirements.extend(dist.requires(req.extras)[::-1])
  File "/Users/moo/code/gomobile/eggs/distribute-0.6.14-py2.6.egg/pkg_resources.py", line 2180, in requires
    "%s has no such extra feature %r" % (self, ext)
UnknownExtra: zope.i18n 3.4.0 has no such extra feature 'zcml'</pre>
</div>
<p>Solution: Check that you have correct Dexteriry or XDV pindowns / Known Good Set
of versions or if your are using a Plone 4 extension in Plone 3.
For example: plone.reload 2.0 will raise this with Plone 3.3 buildout and plone.reload 1.5 will work with Plone 3.3.</p>
<p>See Also: UnknownExtra: zope.i18n 0.0 has no such extra feature 'zcml'</p>
</div>
<div class="section" id="can-t-run-bootstrap-py-versionconflict-for-zc-buildout">
<h2><a class="toc-backref" href="#id15">Can't run bootstrap.py - VersionConflict for zc.buildout</a><a class="headerlink" href="#can-t-run-bootstrap-py-versionconflict-for-zc-buildout" title="Permalink to this headline">¶</a></h2>
<p>Traceback when running <tt class="docutils literal"><span class="pre">python</span> <span class="pre">bootstrap.py</span></tt>:</p>
<div class="highlight-python"><pre>Traceback (most recent call last):
  File "/Users/moo/code/collective.buildout.python/parts/opt/lib/python2.6/pdb.py", line 1283, in main
    pdb._runscript(mainpyfile)
  File "/Users/moo/code/collective.buildout.python/parts/opt/lib/python2.6/pdb.py", line 1202, in _runscript
    self.run(statement)
  File "/Users/moo/code/collective.buildout.python/parts/opt/lib/python2.6/bdb.py", line 368, in run
    exec cmd in globals, locals
  File "&lt;string&gt;", line 1, in &lt;module&gt;
  File "bootstrap.py", line 256, in &lt;module&gt;
    ws.require(requirement)
  File "/Users/moo/code/collective.buildout.python/python-2.6/lib/python2.6/site-packages/distribute-0.6.8-py2.6.egg/pkg_resources.py", line 633, in require
    needed = self.resolve(parse_requirements(requirements))
  File "/Users/moo/code/collective.buildout.python/python-2.6/lib/python2.6/site-packages/distribute-0.6.8-py2.6.egg/pkg_resources.py", line 535, in resolve
    raise VersionConflict(dist,req) # XXX put more info here
VersionConflict: (zc.buildout 1.5.0b2 (/Users/moo/code/collective.buildout.python/python-2.6/lib/python2.6/site-packages/zc.buildout-1.5.0b2-py2.6.egg), Requirement.parse('zc.buildout==1.5.2'))</pre>
</div>
<p>Solution: Update zc.buildout installed in your system Python:</p>
<div class="highlight-python"><pre>easy_install -U zc.buildout</pre>
</div>
</div>
<div class="section" id="an-error-occured-when-trying-to-install-lxml-error-setup-script-exited-with-error-command-gcc-failed-with-exit-status-1">
<h2><a class="toc-backref" href="#id16">An error occured when trying to install lxml - error: Setup script exited with error: command 'gcc' failed with exit status 1</a><a class="headerlink" href="#an-error-occured-when-trying-to-install-lxml-error-setup-script-exited-with-error-command-gcc-failed-with-exit-status-1" title="Permalink to this headline">¶</a></h2>
<p>Traceback when running buildout:</p>
<div class="highlight-python"><pre>...
src/lxml/lxml.etree.c:143652: error: ‘__pyx_v_4lxml_5etree_XSLT_DOC_DEFAULT_LOADER’ undeclared (first use in this function)
src/lxml/lxml.etree.c:143652: error: ‘xsltDocDefaultLoader’ undeclared (first use in this function)
src/lxml/lxml.etree.c:143661: error: ‘__pyx_f_4lxml_5etree__xslt_doc_loader’ undeclared (first use in this function)
error: Setup script exited with error: command 'gcc' failed with exit status 1
An error occured when trying to install lxml 2.2.8. Look above this message for any errors that were output by easy_install.
While:
  Installing instance.
  Getting distribution for 'lxml==2.2.8'.
Error: Couldn't install: lxml 2.2.8</pre>
</div>
<p>Solution: install libxml and libxslt development headers.</p>
<p>On Ubuntu/Debian</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">sudo apt-get install libxml2-dev libxslt-dev</span>
</pre></div>
</div>
</div>
</div>

  </div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<p class="logo"><a href="../index.html"><img src="../_static/plone-icon-64.png" />
</a></p>

  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Buildout troubleshooting</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#network-errors-and-timeouts">Network errors and timeouts</a><ul>
<li><a class="reference internal" href="#individual-package-failing-outside-pypi">Individual package failing outside PyPi</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-conflicts">Version conflicts</a><ul>
<li><a class="reference internal" href="#dump-picked-versions">Dump picked versions</a><ul>
<li><a class="reference internal" href="#more-information">More information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#good-py-service">Good-py service</a></li>
</ul>
</li>
<li><a class="reference internal" href="#plone-3-1">Plone 3.1</a></li>
<li><a class="reference internal" href="#common-pindowns">Common pindowns</a></li>
<li><a class="reference internal" href="#getting-distribution-for-distribute">Getting distribution for 'distribute'.</a></li>
<li><a class="reference internal" href="#unknownextra-zope-i18n-0-0-has-no-such-extra-feature-zcml">UnknownExtra: zope.i18n 0.0 has no such extra feature 'zcml'</a></li>
<li><a class="reference internal" href="#we-already-have-zope-location-3-4-0">We already have: zope.location 3.4.0</a></li>
<li><a class="reference internal" href="#importerror-no-module-named-lxml">ImportError: No module named lxml</a></li>
<li><a class="reference internal" href="#unknownextra-zope-i18n-3-4-0-has-no-such-extra-feature-zcml">UnknownExtra: zope.i18n 3.4.0 has no such extra feature 'zcml'</a></li>
<li><a class="reference internal" href="#can-t-run-bootstrap-py-versionconflict-for-zc-buildout">Can't run bootstrap.py - VersionConflict for zc.buildout</a></li>
<li><a class="reference internal" href="#an-error-occured-when-trying-to-install-lxml-error-setup-script-exited-with-error-command-gcc-failed-with-exit-status-1">An error occured when trying to install lxml - error: Setup script exited with error: command 'gcc' failed with exit status 1</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="images.html"
                        title="previous chapter">Image troubleshooting</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="recovery.html"
                        title="next chapter">Recovering old data</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/troubleshooting/buildout.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="recovery.html" title="Recovering old data"
             >next</a> |</li>
        <li class="right" >
          <a href="images.html" title="Image troubleshooting"
             >previous</a> |</li>
        <li><a href="../index.html">Plone Community Managed Developer Manual v1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >Troubleshooting</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2010 mFabrik Research Oy and Plone community contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>


  </body>
</html>