<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Classes / Content Types &mdash; Plone Community Managed Developer Manual v1.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/plone.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="Plone Community Managed Developer Manual v1.0 documentation" href="../../../index.html" />
    <link rel="up" title="Basic Features" href="index.html" />
    <link rel="next" title="Attributes / Fields / Indexing" href="attributes-fields-indexing.html" />
    <link rel="prev" title="Basic Features" href="index.html" />
<script language="javascript">
//<![CDATA[

Documentation.addTranslations({"locale": "fr", "plural_expr": "(n > 1)", "messages": {"See the definition": "Voir la d\u00e9finition"}});

// See http://disqus.disqus.com/general_integration_help/
var disqus_developer = 1;
if (document.location.protocol == 'http:') {
    disqus_developer = 0;
}

// Some HTML/CSS transforms we can't do in pure CSS (waiting for CSS3 support)
$(document).ready(function () {

    // Style of .. verisonmodified:: , .. versionadded:: ...
    $('p:has(span.versionmodified)').addClass('p-versionmodified');

    // Style of the TOC tree
    $('ul:has(li.toctree-l1)').addClass('toctree');

    // Decorate links to other sites
    $('a[class~=external]').attr('target', '_blank');

    // Glossary terms
    $('em.xref').attr('title', _('See the definition'));

    // We need to have all <pre> in a <div class="highlight"> to mimic pygments
    // to work around a pygments (?) bug
    var suffixes = {cfg: null, python:null};
    for (var suffix in suffixes) {
        var pattern = 'div.highlight-' + suffix + ' > pre';
        $(pattern).wrap('<div class="highlight" />');
    }
    return true;
});
//]]>
</script>

  </head>
  <body>
<!--[if lte IE 6]>
<style type="text/css">
#ie6msg{border:3px solid #090; margin:8px 0; background:#cfc; color:#000;}
#ie6msg h4{margin:8px; padding:0;}
#ie6msg p{margin:8px; padding:0;}
#ie6msg p a.getie8{font-weight:bold; color:#006;}
#ie6msg p a.ie6expl{font-weight:normal; color:#006;}
</style>
<div id="ie6msg">
<h4>Did you know that your browser is out of date?</h4>
<p>If the layout of this site seems ugly, that's because you're actually using
an outdated browser. And we wont put any effort to provide a nice layout to IE6
users.</p>
<p>To get the best possible experience using our website we recommend that you
upgrade your browser to a newer version. The current version
is <a class="getie8"
href="http://upgradeie.s3.amazonaws.com/eng/index.html">Internet Explorer
8</a>. The upgrade is free. If you're using a PC at work you should contact your
IT administrator.</p>
<p>If you want to you may also try some other popular Internet browsers
like <a class="ie6expl"
href="http://getfirefox.com">Firefox</a>, <a class="ie6expl"
href="http://www.google.com/chrome">Chrome</a>, <a class="ie6expl"
href="http://www.opera.com">Opera</a>, or <a class="ie6expl"
href="http://www.apple.com/safari/download/">Safari</a></p>
</div>
<![endif]-->

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="attributes-fields-indexing.html" title="Attributes / Fields / Indexing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Basic Features"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">Plone Community Managed Developer Manual v1.0 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Tutorials</a> &raquo;</li>
          <li><a href="../index.html" >Using ArchGenXML</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Basic Features</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="sphinx-content">
    <div class="section" id="classes-content-types">
<h1>Classes / Content Types<a class="headerlink" href="#classes-content-types" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id1">Overview</a></li>
<li><a class="reference internal" href="#variants-of-content-types" id="id2">Variants of Content Types</a><ul>
<li><a class="reference internal" href="#simple-classes" id="id3">Simple Classes</a></li>
<li><a class="reference internal" href="#folderish-classes" id="id4">Folderish Classes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#portal-tools" id="id5">Portal tools</a></li>
<li><a class="reference internal" href="#abstract-mixin-classes" id="id6">Abstract mixin classes</a></li>
<li><a class="reference internal" href="#stub-classes" id="id7">Stub classes</a></li>
<li><a class="reference internal" href="#deriving-subclassing-classes" id="id8">Deriving/Subclassing Classes</a><ul>
<li><a class="reference internal" href="#simple-derivation" id="id9">Simple Derivation</a></li>
<li><a class="reference internal" href="#multiple-derivation" id="id10">Multiple Derivation</a></li>
<li><a class="reference internal" href="#deriving-from-other-products" id="id11">Deriving from other Products</a></li>
<li><a class="reference internal" href="#deriving-form-atcontenttypes" id="id12">Deriving form ATContentTypes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#packages-bring-order-to-your-code" id="id13">Packages - bring order to your code</a></li>
</ul>
</div>
<div class="admonition-description admonition ">
<p class="first admonition-title">Description</p>
<p class="last">Use classes to generate content types and portal tools.</p>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id1">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>By default, when you create a class in your class diagram, it represents an
Archetypes content type. You can add operations in your model to generate
methods on the class, and attributes to generate fields in the schema. The
quick reference at the end of this tutorial will tell you which field types
you can use. You should also browse the &quot;Archetypes quick reference
documentation&quot;:/documentation/manual/archetypes-developer-manual/fields to
see what properties are available for each field and widget type. You may set
these using tagged values (see below).</p>
<p>There are three basic ways in which you can alter the way your content types
are generated:</p>
<ul class="simple">
<li>You may set one or more stereotypes on your class, which alters the &quot;type&quot; of class. A stereotype <tt class="docutils literal"><span class="pre">&lt;&lt;portal_tool&gt;&gt;</span></tt>, for example means you are generating a portal tool rather than just a simple content type.</li>
<li>You can use tagged values in your model to configure many aspects of your classes, their attributes and their methods. A list of recognised tagged values acting on classes, fields and methods are found in the &quot;quick reference&quot;:archgenxmlquickref at the end of this tutorial.</li>
</ul>
<p>When reading tagged values, ArchGenXML will generally treat them as strings, with a few exceptions where only non-string values are permitted, such as the <tt class="docutils literal"><span class="pre">required</span></tt> tagged value. If you do not wish your value to be quoted as a string, prefix it with <tt class="docutils literal"><span class="pre">python:</span></tt>. For example, if you set the tagged value <tt class="docutils literal"><span class="pre">default</span></tt> to <tt class="docutils literal"><span class="pre">python:[&quot;high&quot;,</span> <span class="pre">&quot;low&quot;]</span></tt> on a <tt class="docutils literal"><span class="pre">lines</span></tt> attribute, you will get <tt class="docutils literal"><span class="pre">default=[&quot;high&quot;,</span> <span class="pre">&quot;low&quot;]</span></tt> in a LinesField in your schema.</p>
<ul class="simple">
<li>ArchGenXML is clever about aggregation and composition. If your class aggregates other classes, it will be automatically made into a folder with those classes as the allowed content types. If you use composition (signified by a filled diamond in the diagram) rather than aggregation, the contained class will only be addable inside the container, otherwise it will be addable globally in your portal by default.</li>
</ul>
</div>
<div class="section" id="variants-of-content-types">
<h2><a class="toc-backref" href="#id2">Variants of Content Types</a><a class="headerlink" href="#variants-of-content-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="simple-classes">
<h3><a class="toc-backref" href="#id3">Simple Classes</a><a class="headerlink" href="#simple-classes" title="Permalink to this headline">¶</a></h3>
<p>A simple class is what we had in HelloWorld in the previous chapter.
A simple class is based on <tt class="docutils literal"><span class="pre">BaseContent</span></tt> and <tt class="docutils literal"><span class="pre">BrowserDefault</span></tt>. This is the default if no other options override.</p>
</div>
<div class="section" id="folderish-classes">
<h3><a class="toc-backref" href="#id4">Folderish Classes</a><a class="headerlink" href="#folderish-classes" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to make a content type folderish is to introduce composition
or aggregation in your model - the parent class will become folderish and will
be permitted to hold objects of the child classes. You can also make a class
folderish just by giving it the <tt class="docutils literal"><span class="pre">&lt;&lt;folder&gt;&gt;</span></tt> stereotype. Both of these
approaches will result in an object derived from <tt class="docutils literal"><span class="pre">BaseFolder</span></tt>.</p>
<p>You can also give a class the <tt class="docutils literal"><span class="pre">&lt;&lt;ordered&gt;&gt;</span></tt> stereotype (possibly in addition
to <tt class="docutils literal"><span class="pre">&lt;&lt;folder&gt;&gt;</span></tt>) in order to make it derive from <tt class="docutils literal"><span class="pre">OrderedBaseFolder</span></tt> and thus
have ordering support. Alternatively, you can set the <tt class="docutils literal"><span class="pre">base_class</span></tt> tagged
value on the class to <tt class="docutils literal"><span class="pre">OrderedBaseFolder</span></tt>. This is a general technique which
you can use to override the base folder should you need to. As an aside, the
<tt class="docutils literal"><span class="pre">additional_parents</span></tt> tagged value permits you to derive from multiple parents.</p>
<p>Another option is to derive from ATFolder (from ATContentTypes) by giving the
class the stereotype <tt class="docutils literal"><span class="pre">&lt;&lt;atfolder&gt;&gt;</span></tt>.</p>
<p>Other tagged values which may be useful when generating folders are:</p>
<p>filter_content_types -- Set this to <tt class="docutils literal"><span class="pre">0</span></tt> or <tt class="docutils literal"><span class="pre">1</span></tt> to turn on/off filtering of
content types. If content types are not filtered, the class will act as a
general folder for all globally addable content.</p>
<p>allowed_content_types -- To explicitly set the allowable content types, for
example to only allow images and documents, set this to: 'Image, Document'.
Note that if you use aggregation or composition to create folderish types as
described above, setting the allowed content types manually is not necessary.</p>
</div>
</div>
<div class="section" id="portal-tools">
<h2><a class="toc-backref" href="#id5">Portal tools</a><a class="headerlink" href="#portal-tools" title="Permalink to this headline">¶</a></h2>
<p>A portal tool is a unique singleton which other objects may find via
<tt class="docutils literal"><span class="pre">getToolByName</span></tt> and utilise. There are many tools which ship with Plone,
such as portal_actions or portal_skins. To create a portal tool instead of
a regular content type, give your class the <tt class="docutils literal"><span class="pre">&lt;&lt;portal_tool&gt;&gt;</span></tt> stereotype.
Tools can hold attributes and provide methods just like a regular content
type. Typically, these hold configuration data and utility methods for the
rest of your product to use. Tools may also have configlets - configuration
pages in the Plone control panel. See the quick reference at the end of this
document for details on the tagged values you must set to generate configlets.</p>
</div>
<div class="section" id="abstract-mixin-classes">
<h2><a class="toc-backref" href="#id6">Abstract mixin classes</a><a class="headerlink" href="#abstract-mixin-classes" title="Permalink to this headline">¶</a></h2>
<p>By marking your class as <tt class="docutils literal"><span class="pre">abstract</span></tt> in your model (usually a separate
tick-box), you are signifying that it will not be added as a content type.
Such classes are useful as mixin parents and as abstract base classes for more
complex content types, and will not have the standard Archetypes registration
machinery, factory type information or derive from BaseClass.</p>
</div>
<div class="section" id="stub-classes">
<h2><a class="toc-backref" href="#id7">Stub classes</a><a class="headerlink" href="#stub-classes" title="Permalink to this headline">¶</a></h2>
<p>By giving your class the <tt class="docutils literal"><span class="pre">&lt;&lt;stub&gt;&gt;</span></tt> stereotype, you can prevent it from being
generated at all. This is useful if you wish to show content types which are
logically part of your model, but which do not belong to your product. For
instance, you could create a stub for Plone's standard Image type if you wish
to include this as an aggregated object inside your content type - that is,
your content type will become folderish, with Image as an allowable contained
type.</p>
</div>
<div class="section" id="deriving-subclassing-classes">
<h2><a class="toc-backref" href="#id8">Deriving/Subclassing Classes</a><a class="headerlink" href="#deriving-subclassing-classes" title="Permalink to this headline">¶</a></h2>
<p>Deriving or subclassing a class is used to extend existing classes, or change
their behavior. Using generalisation arrows in your model, you can inherit
the methods and schema from another content type or mixin class in your class.</p>
<div class="section" id="simple-derivation">
<h3><a class="toc-backref" href="#id9">Simple Derivation</a><a class="headerlink" href="#simple-derivation" title="Permalink to this headline">¶</a></h3>
<p>All content types in Archetypes are derived from one of the base classes -
BaseContent, BaseFolder, OrderedBaseFolder and so on. If you wish to turn
this off, for example because the base class is being inherited from a
parent class, you can set the <tt class="docutils literal"><span class="pre">base_class</span></tt> tagged value to <tt class="docutils literal"><span class="pre">0</span></tt>.</p>
</div>
<div class="section" id="multiple-derivation">
<h3><a class="toc-backref" href="#id10">Multiple Derivation</a><a class="headerlink" href="#multiple-derivation" title="Permalink to this headline">¶</a></h3>
<p>You can of course use multiple inheritance via multiple generalisation
arrows in your model. However, if you need to use a base class that is not
on your model, you can set the <tt class="docutils literal"><span class="pre">additional_parents</span></tt> tagged value on your
class to a comma-separated list of parent classes.</p>
</div>
<div class="section" id="deriving-from-other-products">
<h3><a class="toc-backref" href="#id11">Deriving from other Products</a><a class="headerlink" href="#deriving-from-other-products" title="Permalink to this headline">¶</a></h3>
<p>If you want to derive from a class of an other product create a stub class
with a tagged value <tt class="docutils literal"><span class="pre">import_from</span></tt>: This will generate a import line
<tt class="docutils literal"><span class="pre">from</span> <span class="pre">VALUE</span> <span class="pre">import</span> <span class="pre">CLASSNAME</span></tt> in classes derived from this class.</p>
</div>
<div class="section" id="deriving-form-atcontenttypes">
<h3><a class="toc-backref" href="#id12">Deriving form ATContentTypes</a><a class="headerlink" href="#deriving-form-atcontenttypes" title="Permalink to this headline">¶</a></h3>
<p>To derive from ATDocument just use a stereotype <tt class="docutils literal"><span class="pre">&lt;&lt;atdocument&gt;&gt;</span></tt>. Also
possible with <tt class="docutils literal"><span class="pre">&lt;&lt;atfile&gt;&gt;</span></tt>, <tt class="docutils literal"><span class="pre">&lt;&lt;atevent&gt;&gt;</span></tt> and <tt class="docutils literal"><span class="pre">&lt;&lt;atfolder&gt;&gt;</span></tt>.</p>
</div>
</div>
<div class="section" id="packages-bring-order-to-your-code">
<h2><a class="toc-backref" href="#id13">Packages - bring order to your code</a><a class="headerlink" href="#packages-bring-order-to-your-code" title="Permalink to this headline">¶</a></h2>
<p>Packages are both a UML concept and a Python concept. In Python, packages are
directories under your product containing a set of modules (.py files). In
UML, a package is a logical grouping of classes, drawn as a large &quot;folder&quot;
with classes inside it. To modularise complex products, you should use
packages to group classes together.</p>
</div>
</div>

  </div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<p class="logo"><a href="../../../index.html"><img src="../../../_static/plone-icon-64.png" />
</a></p>

  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Classes / Content Types</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#variants-of-content-types">Variants of Content Types</a><ul>
<li><a class="reference internal" href="#simple-classes">Simple Classes</a></li>
<li><a class="reference internal" href="#folderish-classes">Folderish Classes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#portal-tools">Portal tools</a></li>
<li><a class="reference internal" href="#abstract-mixin-classes">Abstract mixin classes</a></li>
<li><a class="reference internal" href="#stub-classes">Stub classes</a></li>
<li><a class="reference internal" href="#deriving-subclassing-classes">Deriving/Subclassing Classes</a><ul>
<li><a class="reference internal" href="#simple-derivation">Simple Derivation</a></li>
<li><a class="reference internal" href="#multiple-derivation">Multiple Derivation</a></li>
<li><a class="reference internal" href="#deriving-from-other-products">Deriving from other Products</a></li>
<li><a class="reference internal" href="#deriving-form-atcontenttypes">Deriving form ATContentTypes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#packages-bring-order-to-your-code">Packages - bring order to your code</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Basic Features</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="attributes-fields-indexing.html"
                        title="next chapter">Attributes / Fields / Indexing</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/tutorials/archgenxml/basic-features/classes-content-types.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="attributes-fields-indexing.html" title="Attributes / Fields / Indexing"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Basic Features"
             >previous</a> |</li>
        <li><a href="../../../index.html">Plone Community Managed Developer Manual v1.0 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Tutorials</a> &raquo;</li>
          <li><a href="../index.html" >Using ArchGenXML</a> &raquo;</li>
          <li><a href="index.html" >Basic Features</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2010 mFabrik Research Oy and Plone community contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>


  </body>
</html>