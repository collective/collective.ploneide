<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Creating a buildout for your project &mdash; Plone Community Managed Developer Manual v1.0 documentation</title>
    <link rel="stylesheet" href="../../_static/plone.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Plone Community Managed Developer Manual v1.0 documentation" href="../../index.html" />
    <link rel="up" title="Buildout" href="index.html" />
    <link rel="next" title="Understanding buildout.cfg" href="buildoutcfg.html" />
    <link rel="prev" title="Prerequisites" href="prerequisites.html" />
<script language="javascript">
//<![CDATA[

Documentation.addTranslations({"locale": "fr", "plural_expr": "(n > 1)", "messages": {"See the definition": "Voir la d\u00e9finition"}});

// See http://disqus.disqus.com/general_integration_help/
var disqus_developer = 1;
if (document.location.protocol == 'http:') {
    disqus_developer = 0;
}

// Some HTML/CSS transforms we can't do in pure CSS (waiting for CSS3 support)
$(document).ready(function () {

    // Style of .. verisonmodified:: , .. versionadded:: ...
    $('p:has(span.versionmodified)').addClass('p-versionmodified');

    // Style of the TOC tree
    $('ul:has(li.toctree-l1)').addClass('toctree');

    // Decorate links to other sites
    $('a[class~=external]').attr('target', '_blank');

    // Glossary terms
    $('em.xref').attr('title', _('See the definition'));

    // We need to have all <pre> in a <div class="highlight"> to mimic pygments
    // to work around a pygments (?) bug
    var suffixes = {cfg: null, python:null};
    for (var suffix in suffixes) {
        var pattern = 'div.highlight-' + suffix + ' > pre';
        $(pattern).wrap('<div class="highlight" />');
    }
    return true;
});
//]]>
</script>

  </head>
  <body>
<!--[if lte IE 6]>
<style type="text/css">
#ie6msg{border:3px solid #090; margin:8px 0; background:#cfc; color:#000;}
#ie6msg h4{margin:8px; padding:0;}
#ie6msg p{margin:8px; padding:0;}
#ie6msg p a.getie8{font-weight:bold; color:#006;}
#ie6msg p a.ie6expl{font-weight:normal; color:#006;}
</style>
<div id="ie6msg">
<h4>Did you know that your browser is out of date?</h4>
<p>If the layout of this site seems ugly, that's because you're actually using
an outdated browser. And we wont put any effort to provide a nice layout to IE6
users.</p>
<p>To get the best possible experience using our website we recommend that you
upgrade your browser to a newer version. The current version
is <a class="getie8"
href="http://upgradeie.s3.amazonaws.com/eng/index.html">Internet Explorer
8</a>. The upgrade is free. If you're using a PC at work you should contact your
IT administrator.</p>
<p>If you want to you may also try some other popular Internet browsers
like <a class="ie6expl"
href="http://getfirefox.com">Firefox</a>, <a class="ie6expl"
href="http://www.google.com/chrome">Chrome</a>, <a class="ie6expl"
href="http://www.opera.com">Opera</a>, or <a class="ie6expl"
href="http://www.apple.com/safari/download/">Safari</a></p>
</div>
<![endif]-->

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="buildoutcfg.html" title="Understanding buildout.cfg"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="prerequisites.html" title="Prerequisites"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Plone Community Managed Developer Manual v1.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Tutorials</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Buildout</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="sphinx-content">
    <div class="section" id="creating-a-buildout-for-your-project">
<h1>Creating a buildout for your project<a class="headerlink" href="#creating-a-buildout-for-your-project" title="Permalink to this headline">¶</a></h1>
<div class="admonition-description admonition ">
<p class="first admonition-title">Description</p>
<p class="last">How to create a new buildout for a project, adding Plone and other third party products as dependencies</p>
</div>
<p>We are now ready to create a new buildout. The &quot;buildout&quot; is a
directory containing all the parts that make up a project,
including a Zope instance, the Plone sources, custom configuration
options, and your our project's source code.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As of Plone 3.2, all of the Plone installers are buildout based.
You can get the latest <a class="reference external" href="http://plone.org/products/plone">installer</a> and run it to have a working
buildout without having to follow these steps. However, these steps
are still valid if you want to create the buildout manually with
ZopeSkel.</p>
</div>
<p>Create one like this:</p>
<div class="highlight-python"><pre>$ paster create -t plone3_buildout myproject</pre>
</div>
<p>This will ask a series of questions. If you want to use an existing
installation of Zope rather than have buildout download and compile
one for you, specify an absolute path as the <em>zope2_install</em>.
Similarly, if you do not want buildout to download the core Plone
products, you can point it to an existing directory containing all
the products (it will still download Plone 3's eggs, but as we will
see later, it is possible to share an eggs directory among multiple
buildouts). You will need to enter a Zope administrator username
and password, and you may want to turn debug mode and verbose
security <em>on</em> during development.</p>
<p>Now, enter the newly created myproject directory, and run the
buildout bootstrap script.  NOTE: Python 2.4 is currently required
to Plone 3.x:</p>
<div class="highlight-python"><pre>$ cd myproject
$ python2.4 bootstrap.py</pre>
</div>
<p>This will create a number of directories and scripts and dowload
the latest version of the zc.buildout egg. This step should be
needed only once.</p>
<p>To get started straight away, run:</p>
<div class="highlight-python"><pre>$ ./bin/buildout</pre>
</div>
<p>This reads the generated buildout.cfg file and executes its various
&quot;parts&quot;, setting up Zope, creating a Zope instance, downloading and
installing Plone. We will explain this file in more detail
shortly.</p>
<p>You will need to run <em>./bin/buildout</em> again each time you change
<em>buildout.cfg</em>. If you do not want buildout to go online and look
for updated versions of eggs or download other archives, you can
run it in non-updating, offline mode, with;</p>
<div class="highlight-python"><pre>$ ./bin/buildout -No</pre>
</div>
<p>To start Zope in foreground and debug mode, run:</p>
<div class="highlight-python"><pre>$ ./bin/instance fg</pre>
</div>
<p>The <em>instance</em> script is analogous to <em>zopectl</em> as found in a
standard Zope instance. You can use <em>./bin/instance start</em> to run
Zope in daemon mode. It can also be used to run tests:</p>
<div class="highlight-python"><pre>$ ./bin/instance test -s plone.portlets</pre>
</div>
<p>Running:</p>
<div class="highlight-python"><pre>bin/instance console</pre>
</div>
<p>is equivalent to <em>bin/instance fg</em>, but does not implicitly turn on
debug mode but respects the <em>debug-mode</em> setting in <em>buildout.cfg</em>.
This can be useful to run Zope in non-development mode with
daemon-control programs like supervisord.</p>
<p>Once your buildout installation is up and running, you will still
need to install a Plone site.  Log in to the Zope Management
Interface (ZMI) and from &quot;select type to add...&quot; choose Plone
Site.  Fill in the required details and submit.  Now you have a
Plone site at the ID that you specified.</p>
<div class="section" id="directories-in-the-buildout">
<h2>Directories in the buildout<a class="headerlink" href="#directories-in-the-buildout" title="Permalink to this headline">¶</a></h2>
<p>Before we dive into buildout.cfg, let us take a quick look at the
directories that buildout has created for us:</p>
<dl class="docutils">
<dt>bin/</dt>
<dd>Contains various executables, including the <em>buildout</em> command, and
the <em>instance</em> Zope control script.</dd>
<dt>eggs/</dt>
<dd>Contains eggs that buildout has downloaded. These will be
explicitly activated by the control scripts in the <em>bin/</em>
directory.</dd>
<dt>downloads/</dt>
<dd>Contains non-egg downloads, such as the Zope source code archive.</dd>
<dt>var/</dt>
<dd>Contains the log files (in <em>var/log/</em>) and the file storage ZODB
data (in <em>var/filestorage/Data.fs</em>). Buildout will never overwrite
these.
If you want to import a .zexp file, place it in the
<em>var/instance/imports</em> folder.
Previously one had to put that file into <em>parts/instance/import</em>,
but this folder gets wiped and regenerated when running
<em>bin/buildout</em>, so the import location was changed.</dd>
<dt>src/</dt>
<dd>Initially empty. You can place your own development eggs here and
reference them in <em>buildout.cfg</em>. More on that later.</dd>
<dt>products/</dt>
<dd>This is analogous to a Zope instance's <em>Products/</em> directory (note
the difference in capitalisation). If you are developing any
old-style Zope 2 products, place them here. We will see how
buildout can automatically download and manage archives of
products, but if you want to extract a product dependency manually,
or check one out from Subversion, this is the place to do so.</dd>
<dt>parts/</dt>
<dd>Contains code and data managed by buildout. In our case, it will
include the local Zope installa TRUNCATED! Please download pandoc
if you want to convert large files.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can check in a buildout directory to a source code repository
to share it  among developers. In this case, you should ignore
the directories bin/, eggs/, downloads/, var/, and parts/. Each
developer can run bootstrap.py to get these back, and will
normally need local copies anyway. All your configuration should be
in the buildout.cfg file, and all custom code in src/ or products/.</p>
</div>
</div>
</div>

  </div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<p class="logo"><a href="../../index.html"><img src="../../_static/plone-icon-64.png" />
</a></p>

  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Creating a buildout for your project</a><ul>
<li><a class="reference internal" href="#directories-in-the-buildout">Directories in the buildout</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="prerequisites.html"
                        title="previous chapter">Prerequisites</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="buildoutcfg.html"
                        title="next chapter">Understanding buildout.cfg</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/tutorials/buildout/creating.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="buildoutcfg.html" title="Understanding buildout.cfg"
             >next</a> |</li>
        <li class="right" >
          <a href="prerequisites.html" title="Prerequisites"
             >previous</a> |</li>
        <li><a href="../../index.html">Plone Community Managed Developer Manual v1.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Tutorials</a> &raquo;</li>
          <li><a href="index.html" >Buildout</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2010 mFabrik Research Oy and Plone community contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>


  </body>
</html>