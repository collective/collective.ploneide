<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en">

<head>
    <!--
    <link rel="stylesheet" type="text/css" media="screen" href="public.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="columns.css" />-->
    <link rel="stylesheet" type="text/css" media="screen" href="resources/ploneide.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="resources/code_snippets.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="resources/tree/style/simplejqtree.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="resources/layout/layout.css" />

    <script type="text/javascript" src="jquery/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="jquery/jquery.tools.js"></script>
    <script type="text/javascript" src="jquery/jquery.overlayhelpers.js"></script>
    <script type="text/javascript" src="jquery/jquery.form.js"></script>

    <!-- layout -->
    <script type="text/javascript" src="jquery/jquery-ui-1.8.17.custom.min.js"></script>
    <script type="text/javascript" src="resources/layout/jquery.layout.js"></script>

    <!--<script type="text/javascript" src="ace/ace.js"></script>
    <script type="text/javascript" src="ace/mode/css_worker.js"></script>-->
    <!--<script type="text/javascript" src="ace/cockpit.js"></script>
    <script type="text/javascript" src="ace/split.js"></script>-->
    <!--<script type="text/javascript" src="ace/mode-css.js"></script>
    <script type="text/javascript" src="ace/mode-html.js"></script>
    <script type="text/javascript" src="ace/mode-javascript.js"></script>
    <script type="text/javascript" src="ace/mode-python.js"></script>
    <script type="text/javascript" src="ace/mode-xml.js"></script>
    <script type="text/javascript" src="ace/theme-clouds.js"></script>
    <script type="text/javascript" src="ace/theme-clouds_midnight.js"></script>
    <script type="text/javascript" src="ace/theme-cobalt.js"></script>
    <script type="text/javascript" src="ace/theme-dawn.js"></script>
    <script type="text/javascript" src="ace/theme-eclipse.js"></script>
    <script type="text/javascript" src="ace/theme-idle_fingers.js"></script>
    <script type="text/javascript" src="ace/theme-kr_theme.js"></script>
    <script type="text/javascript" src="ace/theme-merbivore.js"></script>
    <script type="text/javascript" src="ace/theme-merbivore_soft.js"></script>
    <script type="text/javascript" src="ace/theme-mono_industrial.js"></script>
    <script type="text/javascript" src="ace/theme-monokai.js"></script>
    <script type="text/javascript" src="ace/theme-pastel_on_dark.js"></script>
    <script type="text/javascript" src="ace/theme-twilight.js"></script>
    <script type="text/javascript" src="ace/theme-vibrant_ink.js"></script>-->

    <!-- tree -->
    <script type="text/javascript" src="resources/tree/jquery.simplejqtree.js"></script>

    <script type="text/javascript" src="resources/rope_interaction.js"></script>
    <script type="text/javascript" src="resources/local_storage.js"></script>
    <script type="text/javascript" src="resources/sessions.js"></script>
    <script type="text/javascript" src="resources/files.js"></script>
    <script type="text/javascript" src="resources/debugger_boxes.js"></script>
    <script type="text/javascript" src="resources/debugging.js"></script>
    <script type="text/javascript" src="resources/aux.js"></script>
    <script type="text/javascript" src="resources/code_snippets.js"></script>
    <script type="text/javascript" src="resources/ploneide.js"></script>
    <!--<script type="text/javascript" src="resources/boot.js"></script>-->

</head>
<body>

    <div id="ploneide-down-warning">
        <p>
            <span>Warning: PloneIDE is currently down.</span>
        </p>
    </div>
    <iframe class="ui-layout-south" src="" width="100%" height="100%">
      <p>Your browser does not support iframes.</p>
    </iframe>
</body>

  <script type="text/javascript">

        String.prototype.endsWith = function(str)
            {return (this.match(str+"$")==str)}

        String.prototype.startsWith = function(str)
            {return (this.match("^"+str)==str)}

        // In case trim not supported for this browser
        if(typeof(String.prototype.trim) === "undefined")
        {
            String.prototype.trim = function()
            {
                return String(this).replace(/^\s+|\s+$/g, '');
            };
        }
        // First thing first, let's load info for instance, ide and debug servers
        getServersInfo();

        //loading ide base
        $.ajax({
          url: 'idebase.html',
          async: false,
          success: function(data) {
            $('body').prepend(data);
            //setup
            treeSetup();
            panelsSetup();
          }
        });

        //load debugger boxes
        $.ajax({
          url: 'watched_variables_box.html',
          async: false,
          success: function(data) {
            $('div#item-debug').append(data);
          }
        });
        $.ajax({
          url: 'local_variables_box.html',
          async: false,
          success: function(data) {
            $('div#item-debug').append(data);
          }
        });
        $.ajax({
          url: 'global_variables_box.html',
          async: false,
          success: function(data) {
            $('div#item-debug').append(data);
          }
        });
        $.ajax({
          url: 'debugger_console_box.html',
          async: false,
          success: function(data) {
            $('div#debugger-console').append(data);
          }
        });        


        /*XXX THIS SHOULD BE IN A MODULEEEEE*/
        /*var panel_action_buttons = '<div class="button-project-tree"></div><div class="button-pin"></div>'*/
        var t = $('body').layout({
            east__minSize:280,
            east__spacing_open:10,
            east__spacing_closed:15,
            south__spacing_open:15,
            south__spacing_closed:15,
            south__initClosed:  true,
            onresize_end: function () {
                /* XXX: Need to calculate this more dynamically */
                resizeEditorSection();
            }
        });

        var require = {
          baseUrl: window.location.protocol + "//" + window.location.host + window.location.pathname.split("/").slice(0, -1).join("/"),
          paths: {
              ace: "ace"
          }
        };
  </script>
    
  <script src="resources/require.js" data-main="resources/boot" type="text/javascript"></script>



</html>
